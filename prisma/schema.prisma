// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Table Admin
model admin {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  password  String
  createdAt DateTime @default(now()) @map("createdAt")
  updatedAt DateTime @updatedAt @map("updatedAt")

  @@map("admins")
}

// Table
model Ulasan {
  id     Int    @id @default(autoincrement())
  nama   String
  tempat String
  ulasan String

  @@map("ulasans")
}

// table
model Kecamatan {
  id   Int    @id @default(autoincrement())
  nama String
  slug String @unique

  hotel  Hotel[]
  wisata Wisata[]

  @@map("kecamatans")
}

// table
model Image_wisata {
  id         Int    @id @default(autoincrement())
  idImagekit String @unique
  nama       String
  url        String
  hotelId    Int?
  wisataId   Int?

  hotel  Hotel?  @relation(fields: [hotelId], references: [id])
  wisata Wisata? @relation(fields: [wisataId], references: [id])

  @@map("image_wisata")
}

// table
model Image_hotel {
  id         Int    @id @default(autoincrement())
  idImagekit String @unique
  nama       String
  url        String
  hotelId    Int?

  hotel Hotel? @relation(fields: [hotelId], references: [id])

  @@map("image_hotel")
}

// table
model Fasilitas_Hotel {
  id        Int     @id @default(autoincrement())
  nama      String
  is_active Boolean @map("is_active")
  jumlah    Int
  Hotel     Hotel?  @relation(fields: [hotelId], references: [id])
  hotelId   Int?

  @@map("fasilitasHotel")
}

// table
model Fasilitas_Wisata {
  id        Int     @id @default(autoincrement())
  nama      String
  is_active Boolean @map("is_active")
  jumlah    Int
  wisata    Wisata? @relation(fields: [wisataId], references: [id])
  wisataId  Int?

  @@map("fasilitaswisata")
}

// table
model Hotel {
  id        Int     @id @default(autoincrement())
  title     String
  slug      String  @unique
  deskripsi String
  linkmap   String
  alamat    String
  nohp      BigInt
  harga_min BigInt
  harga_max BigInt
  isPopular Boolean
  jarak     Int
  rating    Float
  check_in  String
  check_out String

  createdAt        DateTime           @default(now()) @map("createdAt")
  updatedAt        DateTime           @updatedAt @map("updatedAt")
  Kecamatan        Kecamatan          @relation(fields: [kecamatanId], references: [id])
  kecamatanId      Int
  image_hotel      Image_hotel[]
  fasilitas_hotel  Fasilitas_Hotel[]
  wisata_has_hotel Wisata_Has_Hotel[]
  Image_wisata     Image_wisata[]

  @@map("hotels")
}

// table
model Wisata {
  id               Int                @id @default(autoincrement())
  title            String
  slug             String             @unique
  deskripsi        String
  linkmap          String
  alamat           String
  nohp             BigInt
  harga_min        BigInt
  harga_max        BigInt
  jarak            Int
  rating           Float
  jam_buka         String
  jam_tutup        String
  isPopular        Boolean
  kecamatanId      Int
  createdAt        DateTime           @default(now()) @map("createdAt")
  updatedAt        DateTime           @updatedAt @map("updatedAt")
  Kecamatan        Kecamatan          @relation(fields: [kecamatanId], references: [id])
  image_wisata     Image_wisata[]
  fasilitas_wisata Fasilitas_Wisata[]
  wisata_has_hotel Wisata_Has_Hotel[]

  @@map("wisatas")
}

model Wisata_Has_Hotel {
  id       Int     @id @default(autoincrement())
  Wisata   Wisata? @relation(fields: [wisataId], references: [id])
  wisataId Int?
  Hotel    Hotel?  @relation(fields: [hotelId], references: [id])
  hotelId  Int?

  @@map("wisataHasHotel")
}
